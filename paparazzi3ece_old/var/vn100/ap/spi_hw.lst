   1              		.file	"spi_hw.c"
   2              		.text
   3              		.align	2
   4              		.global	spi_init
   6              	spi_init:
   7              		@ Function supports interworking.
   8              		@ args = 0, pretend = 0, frame = 0
   9              		@ frame_needed = 0, uses_anonymous_args = 0
  10              		@ link register save eliminated.
  11 0000 98109FE5 		ldr	r1, .L2
  12 0004 043091E5 		ldr	r3, [r1, #4]
  13 0008 A83083E3 		orr	r3, r3, #168
  14 000c 043081E5 		str	r3, [r1, #4]
  15 0010 8C209FE5 		ldr	r2, .L2+4
  16 0014 083092E5 		ldr	r3, [r2, #8]
  17 0018 013683E3 		orr	r3, r3, #1048576
  18 001c 083082E5 		str	r3, [r2, #8]
  19 0020 043092E5 		ldr	r3, [r2, #4]
  20 0024 013683E3 		orr	r3, r3, #1048576
  21 0028 043082E5 		str	r3, [r2, #4]
  22 002c 143091E5 		ldr	r3, [r1, #20]
  23 0030 0830C3E3 		bic	r3, r3, #8
  24 0034 143081E5 		str	r3, [r1, #20]
  25 0038 183092E5 		ldr	r3, [r2, #24]
  26 003c 013683E3 		orr	r3, r3, #1048576
  27 0040 183082E5 		str	r3, [r2, #24]
  28 0044 143092E5 		ldr	r3, [r2, #20]
  29 0048 013683E3 		orr	r3, r3, #1048576
  30 004c 143082E5 		str	r3, [r2, #20]
  31 0050 50209FE5 		ldr	r2, .L2+8
  32 0054 50309FE5 		ldr	r3, .L2+12
  33 0058 B020C3E1 		strh	r2, [r3, #0]	@ movhi 
  34 005c 0020A0E3 		mov	r2, #0
  35 0060 043083E2 		add	r3, r3, #4
  36 0064 0020C3E5 		strb	r2, [r3, #0]
  37 0068 202082E2 		add	r2, r2, #32
  38 006c 0C3083E2 		add	r3, r3, #12
  39 0070 0020C3E5 		strb	r2, [r3, #0]
  40 0074 34209FE5 		ldr	r2, .L2+16
  41 0078 0C3092E5 		ldr	r3, [r2, #12]
  42 007c 023BC3E3 		bic	r3, r3, #2048
  43 0080 0C3082E5 		str	r3, [r2, #12]
  44 0084 023BA0E3 		mov	r3, #2048
  45 0088 103082E5 		str	r3, [r2, #16]
  46 008c 2B30A0E3 		mov	r3, #43
  47 0090 1C3282E5 		str	r3, [r2, #540]
  48 0094 18309FE5 		ldr	r3, .L2+20
  49              		@ lr needed for prologue
  50 0098 1C3182E5 		str	r3, [r2, #284]
  51 009c 1EFF2FE1 		bx	lr
  52              	.L3:
  53              		.align	2
  54              	.L2:
  55 00a0 00C002E0 		.word	-536690688
  56 00a4 008002E0 		.word	-536707072
  57 00a8 870F0000 		.word	3975
  58 00ac 008006E0 		.word	-536444928
  59 00b0 00F0FFFF 		.word	-4096
  60 00b4 00000000 		.word	SPI1_ISR
  62              		.align	2
  63              		.global	SPI1_ISR
  65              	SPI1_ISR:
  66              		@ Function supports interworking.
  67              		@ Naked Function: prologue and epilogue provided by programmer.
  68              		@ args = 0, pretend = 0, frame = 0
  69              		@ frame_needed = 0, uses_anonymous_args = 0
  70 00b8 04E04EE2 		 sub   lr, lr,#4
  71 00bc FF5F2DE9 	 stmfd sp!,{r0-r12,lr}
  72 00c0 00104FE1 	 mrs   r1, spsr
  73 00c4 02002DE9 	 stmfd sp!,{r1}
  74 00c8 B8319FE5 		ldr	r3, .L30
  75 00cc 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
  76 00d0 080013E3 		tst	r3, #8
  77 00d4 6C00000A 		beq	.L5
  78 00d8 AC119FE5 		ldr	r1, .L30+4
  79 00dc ACE19FE5 		ldr	lr, .L30+8
  80 00e0 0030D1E5 		ldrb	r3, [r1, #0]	@ zero_extendqisi2
  81 00e4 0000DEE5 		ldrb	r0, [lr, #0]	@ zero_extendqisi2
  82 00e8 000053E1 		cmp	r3, r0
  83 00ec 4B00002A 		bcs	.L7
  84 00f0 9CC19FE5 		ldr	ip, .L30+12
  85              	.L26:
  86 00f4 0030DCE5 		ldrb	r3, [ip, #0]	@ zero_extendqisi2
  87 00f8 020013E3 		tst	r3, #2
  88 00fc 4B00000A 		beq	.L7
  89 0100 90319FE5 		ldr	r3, .L30+16
  90 0104 002093E5 		ldr	r2, [r3, #0]
  91 0108 0030D1E5 		ldrb	r3, [r1, #0]	@ zero_extendqisi2
  92 010c 0320D2E7 		ldrb	r2, [r2, r3]	@ zero_extendqisi2
  93 0110 84319FE5 		ldr	r3, .L30+20
  94 0114 B020C3E1 		strh	r2, [r3, #0]	@ movhi 
  95 0118 0030D1E5 		ldrb	r3, [r1, #0]	@ zero_extendqisi2
  96 011c 013083E2 		add	r3, r3, #1
  97 0120 0030C1E5 		strb	r3, [r1, #0]
  98 0124 60119FE5 		ldr	r1, .L30+4
  99 0128 0030D1E5 		ldrb	r3, [r1, #0]	@ zero_extendqisi2
 100 012c 000053E1 		cmp	r3, r0
 101 0130 3B00003A 		bcc	.L26
 102              	.L7:
 103 0134 50319FE5 		ldr	r3, .L30+4
 104 0138 0020D3E5 		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 105 013c 0030DEE5 		ldrb	r3, [lr, #0]	@ zero_extendqisi2
 106 0140 030052E1 		cmp	r2, r3
 107 0144 54219F05 		ldreq	r2, .L30+24
 108 0148 0030D205 		ldreqb	r3, [r2, #0]	@ zero_extendqisi2
 109 014c 0830C303 		biceq	r3, r3, #8
 110 0150 0030C205 		streqb	r3, [r2, #0]
 111              	.L28:
 112 0154 38319FE5 		ldr	r3, .L30+12
 113 0158 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 114 015c 040013E3 		tst	r3, #4
 115 0160 6800000A 		beq	.L23
 116 0164 38019FE5 		ldr	r0, .L30+28
 117 0168 0020DEE5 		ldrb	r2, [lr, #0]	@ zero_extendqisi2
 118 016c 0030D0E5 		ldrb	r3, [r0, #0]	@ zero_extendqisi2
 119 0170 020053E1 		cmp	r3, r2
 120 0174 20319F25 		ldrcs	r3, .L30+20
 121 0178 B030D321 		ldrcsh	r3, [r3, #0]
 122 017c 5300002A 		bcs	.L28
 123 0180 20319FE5 		ldr	r3, .L30+32
 124 0184 001093E5 		ldr	r1, [r3, #0]
 125 0188 0C319FE5 		ldr	r3, .L30+20
 126 018c 0020D0E5 		ldrb	r2, [r0, #0]	@ zero_extendqisi2
 127 0190 B030D3E1 		ldrh	r3, [r3, #0]
 128 0194 0230C1E7 		strb	r3, [r1, r2]
 129 0198 0030D0E5 		ldrb	r3, [r0, #0]	@ zero_extendqisi2
 130 019c 013083E2 		add	r3, r3, #1
 131 01a0 0030C0E5 		strb	r3, [r0, #0]
 132 01a4 530000EA 		b	.L28
 133              	.L23:
 134 01a8 F0209FE5 		ldr	r2, .L30+24
 135 01ac 0030D2E5 		ldrb	r3, [r2, #0]	@ zero_extendqisi2
 136 01b0 023083E3 		orr	r3, r3, #2
 137 01b4 0030C2E5 		strb	r3, [r2, #0]
 138              	.L5:
 139 01b8 C8309FE5 		ldr	r3, .L30
 140 01bc 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 141 01c0 020013E3 		tst	r3, #2
 142 01c4 9A00000A 		beq	.L15
 143 01c8 DC309FE5 		ldr	r3, .L30+36
 144 01cc 0020A0E3 		mov	r2, #0
 145 01d0 0020C3E5 		strb	r2, [r3, #0]
 146 01d4 D4209FE5 		ldr	r2, .L30+40
 147 01d8 043092E5 		ldr	r3, [r2, #4]
 148 01dc 013683E3 		orr	r3, r3, #1048576
 149 01e0 043082E5 		str	r3, [r2, #4]
 150              	.L29:
 151 01e4 A8309FE5 		ldr	r3, .L30+12
 152 01e8 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 153 01ec 040013E3 		tst	r3, #4
 154 01f0 8D00000A 		beq	.L25
 155 01f4 94309FE5 		ldr	r3, .L30+8
 156 01f8 A4009FE5 		ldr	r0, .L30+28
 157 01fc 0020D3E5 		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 158 0200 0030D0E5 		ldrb	r3, [r0, #0]	@ zero_extendqisi2
 159 0204 020053E1 		cmp	r3, r2
 160 0208 8C309F25 		ldrcs	r3, .L30+20
 161 020c B030D321 		ldrcsh	r3, [r3, #0]
 162 0210 7700002A 		bcs	.L29
 163 0214 8C309FE5 		ldr	r3, .L30+32
 164 0218 001093E5 		ldr	r1, [r3, #0]
 165 021c 78309FE5 		ldr	r3, .L30+20
 166 0220 0020D0E5 		ldrb	r2, [r0, #0]	@ zero_extendqisi2
 167 0224 B030D3E1 		ldrh	r3, [r3, #0]
 168 0228 0230C1E7 		strb	r3, [r1, r2]
 169 022c 0030D0E5 		ldrb	r3, [r0, #0]	@ zero_extendqisi2
 170 0230 013083E2 		add	r3, r3, #1
 171 0234 0030C0E5 		strb	r3, [r0, #0]
 172 0238 770000EA 		b	.L29
 173              	.L25:
 174 023c 5C209FE5 		ldr	r2, .L30+24
 175 0240 0030D2E5 		ldrb	r3, [r2, #0]	@ zero_extendqisi2
 176 0244 0230C3E3 		bic	r3, r3, #2
 177 0248 0C30C2E4 		strb	r3, [r2], #12
 178 024c 0030D2E5 		ldrb	r3, [r2, #0]	@ zero_extendqisi2
 179 0250 023083E3 		orr	r3, r3, #2
 180 0254 1C3042E4 		strb	r3, [r2], #-28
 181 0258 0030D2E5 		ldrb	r3, [r2, #0]	@ zero_extendqisi2
 182 025c 0230C3E3 		bic	r3, r3, #2
 183 0260 0030C2E5 		strb	r3, [r2, #0]
 184 0264 48309FE5 		ldr	r3, .L30+44
 185 0268 0120A0E3 		mov	r2, #1
 186 026c 0020C3E5 		strb	r2, [r3, #0]
 187              	.L15:
 188 0270 40309FE5 		ldr	r3, .L30+48
 189 0274 0020A0E3 		mov	r2, #0
 190 0278 302083E5 		str	r2, [r3, #48]
 191 027c 0200BDE8 		 ldmfd sp!,{r1}
 192 0280 01F061E1 	 msr   spsr_c,r1
 193 0284 FF9FFDE8 	 ldmfd sp!,{r0-r12,pc}^
 194              	.L31:
 195              		.align	2
 196              	.L30:
 197 0288 1C8006E0 		.word	-536444900
 198 028c 00000000 		.word	spi_tx_idx
 199 0290 00000000 		.word	spi_buffer_length
 200 0294 0C8006E0 		.word	-536444916
 201 0298 00000000 		.word	spi_buffer_output
 202 029c 088006E0 		.word	-536444920
 203 02a0 148006E0 		.word	-536444908
 204 02a4 00000000 		.word	spi_rx_idx
 205 02a8 00000000 		.word	spi_buffer_input
 206 02ac 00000000 		.word	spi_cur_slave
 207 02b0 008002E0 		.word	-536707072
 208 02b4 00000000 		.word	spi_message_received
 209 02b8 00F0FFFF 		.word	-4096
 211              		.comm	spi_tx_idx,1,1
 212              		.comm	spi_rx_idx,1,1
 213              		.ident	"GCC: (GNU) 3.4.4"
DEFINED SYMBOLS
                            *ABS*:00000000 spi_hw.c
     /tmp/ccBveI77.s:6      .text:00000000 spi_init
     /tmp/ccBveI77.s:11     .text:00000000 $a
     /tmp/ccBveI77.s:55     .text:000000a0 $d
     /tmp/ccBveI77.s:65     .text:000000b8 SPI1_ISR
     /tmp/ccBveI77.s:70     .text:000000b8 $a
     /tmp/ccBveI77.s:197    .text:00000288 $d
                            *COM*:00000001 spi_tx_idx
                            *COM*:00000001 spi_rx_idx

UNDEFINED SYMBOLS
spi_buffer_length
spi_buffer_output
spi_buffer_input
spi_cur_slave
spi_message_received
