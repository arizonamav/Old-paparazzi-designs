<flight_plan alt="50" ground_alt="3" lat0="30.51566" lon0="-86.45786" max_dist_from_home="500" name="kennedy" qfu="180" security_height="70">
  <waypoints>
    <waypoint alt="80." name="HOME" x="5960.43239682" y="18989.0024583"/>
    <waypoint alt="80." name="2" x="6073.39562782" y="18945.1588256"/>
    <waypoint alt="80." name="1" x="6062.15463243" y="18994.24443"/>
  </waypoints>
  <blocks>
    <block name="init">
      <exception cond="(RcEvent1())" deroute="landing"/>
      <exception cond="(RcEvent2())" deroute="2wp loiter"/>
      <while cond="(!launch)"/>
      <attitude pitch="0.1" roll="0.0" throttle="0.56" until="(estimator_z > SECURITY_ALT)" vmode="throttle"/>
      <deroute block="2wp loiter"/>
    </block>
    <block name="2wp loiter">
      <exception cond="(RcEvent1())" deroute="init"/>
      <exception cond="(RcEvent2())" deroute="circle"/>
      <while>
        <go approaching_time="1" pitch="0.0" throttle="auto" vmode="alt" wp="HOME"/>
        <go approaching_time="1" pitch="0.0" throttle="auto" vmode="alt" wp="1"/>
      </while>
    </block>
    <block name="3wp loiter">
      <exception cond="(RcEvent1())" deroute="init"/>
      <exception cond="(RcEvent2())" deroute="circle"/>
      <exception cond="(RcEvent2())" deroute="2wp loiter"/>
      <while>
        <go approaching_time="1" pitch="0.0" throttle="auto" vmode="alt" wp="HOME"/>
        <go approaching_time="1" pitch="0.0" throttle="auto" vmode="alt" wp="1"/>
        <go approaching_time="1" pitch="0.0" throttle="auto" vmode="alt" wp="2"/>
      </while>
    </block>
    <block name="circle">
      <exception cond="(RcEvent2())" deroute="2wp loiter"/>
      <exception cond="(RcEvent1())" deroute="landing"/>
      <circle alt="GROUND_ALT+8" radius="10" wp="HOME"/>
    </block>
    <block name="landing">
      <exception cond="(RcEvent2())" deroute="circle"/>
      <exception cond="(RcEvent1())" deroute="init"/>
      <go alt="GROUND_ALT+2" wp="1"/>
      <go alt="GROUND_ALT" throttle="0.30" vmode="throttle" wp="2"/>
    </block>
  </blocks>
</flight_plan>
